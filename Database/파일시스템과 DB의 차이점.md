# 파일시스템과 DB의 차이점

## 파일시스템의 정의

- 컴퓨터에서 파일이나 자료를 쉽게 발견하고 접근할 수 있도록 저장하는 것
- 윈도우는 NTFS(New Technology File System) 리눅스는 ext4
- 파일 시스템의 주 관심 대상은 특정 어플리케이션이다.
- 모든 응용프로그램에서 개별적으로 파일을 가지고 있어야 하기 때문에 파일 시스템은 여러 문제를 가진다.

## 데이터베이스의 정의

- 여러 사람들이 공유하여 사용할 목적으로 체계화해 통합, 관리하는 데이터의 집합
- DBMS(Database Management System)을 통행 사용자 또는 프로그램이 요구를 처리
- SQL을 사용하여 데이터에 접근하여 데이터 삽입, 삭제, 수정 등등의 작업을 수행할 수 있다.
- 데이터베이스의 등장으로 파일 시스템이 가지고 있던 문제점들을 거의 모두 해소 할 수 있게 된다.
- 파일 시스템은 응용프로그램이 데이터를 별개로 가지고 있던것과 달리 통합된 환경을 제공함으로써 데이터 중복을 최소화 하고 데이터의 논리적인 독립성을 추구할 수 있다.

## 차이점

### 파일 시스템

- 데이터의 구조
  - 파일시스템에서 다루는 데이터들은 특정한 구조로 저장되어 관리되지 않는다. (raw data, assets들이 저장될 수 있다.)

- 데이터 접근 방식 및 작업
  - 파일 시스템에서 원하는 데이터를 찾으려면 순차적(sequential)으로 데이터를 훑어나간다.
  - 순차적으로 저장된 파일들은 순차적으로 액세스 해야한다.
  - 응용프로그램마다 각각 다른 데이터 저장 방식, 데이터 타입을 가져 이를 조합해서 작업을 하기에는 어렵다.

- 데이터의 중복 & 불일치 (data redundancy & inconsistency)
  - 파일 시스템에서는 각각 응용프로그램이 데이터를 가지고 있어야 하고, 각 응용프로그램이 요구하는 데이터타입에 맞춰 데이터를 따로 저장한다.
  - 동일한 의미의 데이터가 중복되어 저장되고, 이에 저장 공간도 불필요하게 낭비되었다.
  - 업데이트가 부분적으로 일어날 경우 데이터의 불일치가 일어날 수 있었다.

- 데이터 무결성 제약조건 (integrity constraints)
  - 데이터가 결함이 없어야 신뢰할 수 있는 결과를 도출해낼 수 있으므로, 데이터의 무결성을 확보하는 것은 매우 중요하다.
  - 하지만 파일 시스템에서는 이를 보장하기가 매우 어렵고 번거롭다. 부분 업데이트와 같이각각의 응용프로그램에서 이를 각각 처리해줘야 하기때문이다.

- 데이터 독립성 data independence
  - 파일 시스템에서는 데이터가 시스템에 의존적인데, 의존적이라는 것은 데이터가 물리적으로 어떻게 저장되어 있는지(storage structure), 어떻게 데이터를 사용할 것인지(access strategy)의 정보를 가지고 있다는 것을 의미한다.
  - 즉 파일 시스템에서는 storage 가 변화하면 전체 프로그램을 수정해야 하므로 막심한 비용을 초래하게 된다.

- 트랜잭션 : 원자성 atomicity
  - 트랜잭션이란 데이터베이스의 상태를 변화시키기위해 데이터를 삽입하거나 삭제, 수정하는 등의 작업의 단위를 의미한다.
  - 데이터베이스의 트랙잭션에는 원자성(atomicity), 일관성(consistency), 독립성(isolation), 지속성(durability)라는 특징을 가지고 있다.
  - 원자성은 트랙잭션이 데이터베이스에 모두 반영이 되든지, 아니면 전혀 반영되지 않아야 한다는 것을 의미한다.
  - 이러한 특징 덕에 데이터베이스에서 데이터를 처리하다가 예기치못한 오류가 발생하더라도 문제를 쉽게 파악할 수 있게 된다.

- 다중 사용자의 동시 접속 concurrent access of multiple users
  - 파일 시스템에서는 사용자가 동시에 접속했을 때 문제가 발생할 여지가 있다.
  - 만약 100 만원이 들어있는 계좌에서 A와 B가 동시에 100만원을 인출하려고 한다고 가정했을 때, 파일 시스템의 경우 이 두 사용자를 구분할 수 없으므로 A와 B 둘 다 100만원을 인출하고, 계좌는 -100 만원이라는 말도 안되는 결과를 낳을 수 있다.

- 보안 및 권한 security & permission
  - 파일 시스템은 각 프로그램마다 데이터를 각각 가지고 있기 때문에 여러 경로로 데이터의 접근이 가능해지므로 보안이 까다롭다.
  - 한 파일에서는 사용자의 다른 권한에 따른 작업을 제한할 수 없어서, 권한에 따른 각각 다른 파일을 따로 생성해줘야 한다.

### 데이터베이스

- 데이터의 구조
  - 데이터베이스에서는 데이터들은 table형태로 구조화 되어 저장된다. (data with structure)

- 데이터 접근 방식 및 작업
  - 데이터베이스에서는 테이블 형태로 되어있고, 비순차적(random access)이 가능하다.
  - SQL 쿼리를 사용해서 값을 빠르게 찾을 수 있으며 random read/write 모두 가능하다.
  - 테이블 형태로 데이터가 저장되고 전체 스키마를 한꺼번에 다룰 수 있기 때문에 다른 응용프로그램에서 사용하는 데이터들도 쉽게 작업을 할 수 있다, (data sharing)

- 데이터의 중복 & 불일치 (data redundancy & inconsistency)
  - 반면 데이터베이스에서는 한 시스템이 공유하는 데이터 스키마 전체를 가지고 있으므로 응용 프로그램은 필요한 정보를 가져다가 사용하면 된다.
  - 필요한 경우에만 데이터 타입을 변환해서 사용할 수 있으므로, 다양한 요구사항에 대응할 수도 있다. 데이터가 여러 곳에 중복되어 저장되지 않으므로, 데이터 수정도 용이해지고, 부분 업데이트가 발생하지 않으니 데이터가 불일치 될 경우도 거의 없어지게 되었다.
  - 물론 데이터베이스는 성능상의 이점때문에 부분적으로 데이터의 중복(controlled redundancy)을 가질 수 있으므로 불일치 문제가 아예 없다고 할 수는 없다.

- 데이터 무결성 제약조건 (integrity constraints)
  - 데이터베이스에서는 데이터를 시스템이 함께 공유하므로, 제약 조건을 걸어 무결성을 확보하는 것이 비교적 용이하다.
  - 각각의 응용프로그램에서 별도로 처리할 필요가 없다.

- 데이터 독립성 data independence
  - 데이터베이스는 3개의 level 로 이루어져 있고 mapping 으로 서로 연결된 구조를 가지고 있다.
  - (external level - conceptual level - internal level) 변화가 있을 경우 mapping 부분만 수정하면 되기 때문에 각각의 데이터는 독립성을 유지할 수 있으며 storage structure나 access strategy를 수정하지 않아도 된다.
  - 따라서 파일 시스템에 비해 변화에도 유연하게 대응할 수 있다.

- 트랜잭션 : 원자성 atomicity
  - 반면 데이터베이스는 트랙잭션의 특징 중 하나인 원자성 덕분에 A 은행에서 B로 무사히 100만원이 옮겨졌거나 혹은 아무런 작업이 이루어지지 않았거나 (A은행에 100만원 그대로 있음) 둘 중 하나의 상태가 된다.
  - 성공적으로 이루어지지 않았다면 다시 시도하면 되므로 쉽게 문제를 해결할 수 있다 . (transaction support)

- 다중 사용자의 동시 접속 concurrent access of multiple users
  - 데이터베이스는 동시에 접속했을 때 사용자를 구분하고, 우선순위를 부여해서 작업을 수행하도록 할 수 있다.
  - 앞선 예시에 이어서 A와 B 가 현금을 인출하려고 할 때, 만약 A가 계좌의 주거래자고, B는 아닌 경우 A의 요청을 우선적으로 처리하도록 할 수 있다.
  - 그 결과 A는 100만원을 인출하고 계좌에 남은 돈이 0 이므로 B는 100만원을 인출하지 못한다.

- 보안 및 권한 security & permission
  - 데이터베이스는 모든 접근을 공통된 한 데이터베이스에서 하기 때문에 불순한 의도의 접근을 효과적으로 차단할 수 있어서 보안을 높일 수 있다.
  - 파일 시스템과 달리 사용자들마다 다른 권한을 부여해서 작업하도록 할 수 있다.

## 출처

[링크](https://ychae-leah.tistory.com/209)